#!/bin/sh

xhost +local:docker 
docker run --rm -it \
  --env DISPLAY=$DISPLAY \
  --env XDG_SEAT=$XDG_SEAT \
  --env XDG_SESSION_ID=$XDG_SESSION_ID \
  --env XDG_RUNTIME_DIR=$XDG_RUNTIME_DIR \
  --env SSH_AUTH_SOCK=$SSH_AUTH_SOCK \
  --env SSH_ASKPASS=/usr/libexec/openssh/x11-ssh-askpass \
  --volume /run/udev/data:/run/udev/data:ro \
  --volume /run/systemd:/run/systemd \
  --volume /run/user:/run/user/ \
  --volume /home/user/.gnupg/:/home/user/.gnupg/ \
  --volume /home/user/.bashrc:/home/user/.bashrc.d/host \
  --volume /home/user/.local/:/home/user/.local/ \
  --volume /home/user/.config/:/home/user/.config/ \
  --volume /tmp:/tmp \
  --volume /run/dbus:/run/dbus:ro \
  --volume /run/media:/run/media \
  --volume /etc/machine-id:/etc/machine-id \
  --volume /var/lib/dbus:/var/lib/dbus \
  --volume src:/home/user/src \
  --volume android:/home/user/.android \
  --volume gradle:/home/user/.gradle \
  --volume /home/user/.gitconfig:/home/user/.gitconfig \
  --volume /home/user/.ssh/:/home/user/.ssh/ \
  --privileged \
  -d \
  --name dev \
  $1 
